import{r as u,j as e,u as O,v as V,Y as W,m as Y}from"./app-D7h03rrP.js";import{A as G,C as J}from"./app-layout-ByTQ8MHC.js";import{F as w}from"./form-control-BAJvhC_B.js";import{B as Q}from"./badge-5Z11KHsX.js";import{c as X,B as C}from"./button-DqL49rUv.js";import{C as y,a as S,b as N,c as P,e as E,d as $}from"./card-DpJ8qlNR.js";import{I as _}from"./input-ffeK7c4x.js";import{L as K}from"./label-CPKUnYdo.js";import{S as Z}from"./separator-DNdLVSqJ.js";import{c as ee,a as re}from"./index-BLoXGhl-.js";import{u as M}from"./index-aGfW6mHg.js";import{u as te}from"./index-B33LqQ4l.js";import{u as ae,C as se}from"./index-acORqEsg.js";import{u as ie}from"./index-ekng4bEa.js";import{P as I}from"./index-DDta-okh.js";import{c as j}from"./utils-XBr-Hfdz.js";import{T as ne,a as oe,b as B,c as L}from"./tabs-zyZvU_uB.js";import{t as R}from"./index-Di12Mgq2.js";import ce from"./search-media-BZV0KII8.js";import le from"./upload-thumbnail-BEU67Crn.js";import{M as de,r as ue}from"./index-BBWcI3ns.js";import{L as he}from"./loader-circle-DhtZ0NOl.js";/* empty css            */import"./sheet-H0u_gwfh.js";import"./index-D_fHMr4h.js";import"./index-BuMgOdKp.js";import"./x-CYvpx5KW.js";import"./index-BM-yjrP-.js";import"./avatar-CwCvzsUl.js";import"./app-logo-icon-CqdOGP5u.js";import"./scroll-area-DHgMNkWS.js";import"./upload-image-D9bg7a7R.js";import"./upload-IYFp8iU5.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],pe=X("Copy",me);var g="Switch",[xe,tr]=ee(g),[fe,be]=xe(g),A=u.forwardRef((a,r)=>{const{__scopeSwitch:i,name:c,checked:o,defaultChecked:s,required:n,disabled:l,value:d="on",onCheckedChange:m,form:t,...p}=a,[h,x]=u.useState(null),v=M(r,b=>x(b)),k=u.useRef(!1),T=h?t||!!h.closest("form"):!0,[f,H]=te({prop:o,defaultProp:s??!1,onChange:m,caller:g});return e.jsxs(fe,{scope:i,checked:f,disabled:l,children:[e.jsx(I.button,{type:"button",role:"switch","aria-checked":f,"aria-required":n,"data-state":F(f),"data-disabled":l?"":void 0,disabled:l,value:d,...p,ref:v,onClick:re(a.onClick,b=>{H(U=>!U),T&&(k.current=b.isPropagationStopped(),k.current||b.stopPropagation())})}),T&&e.jsx(D,{control:h,bubbles:!k.current,name:c,value:d,checked:f,required:n,disabled:l,form:t,style:{transform:"translateX(-100%)"}})]})});A.displayName=g;var q="SwitchThumb",z=u.forwardRef((a,r)=>{const{__scopeSwitch:i,...c}=a,o=be(q,i);return e.jsx(I.span,{"data-state":F(o.checked),"data-disabled":o.disabled?"":void 0,...c,ref:r})});z.displayName=q;var je="SwitchBubbleInput",D=u.forwardRef(({__scopeSwitch:a,control:r,checked:i,bubbles:c=!0,...o},s)=>{const n=u.useRef(null),l=M(n,s),d=ae(i),m=ie(r);return u.useEffect(()=>{const t=n.current;if(!t)return;const p=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==i&&x){const v=new Event("click",{bubbles:c});x.call(t,i),t.dispatchEvent(v)}},[d,i,c]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...o,tabIndex:-1,ref:l,style:{...o.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});D.displayName=je;function F(a){return a?"checked":"unchecked"}var ge=A,ve=z;function ke({className:a,...r}){return e.jsx(ge,{"data-slot":"switch",className:j("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...r,children:e.jsx(ve,{"data-slot":"switch-thumb",className:j("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function we({className:a,...r}){return e.jsx("textarea",{"data-slot":"textarea",className:j("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...r})}const ar=({medias:a,post:r})=>{const{appearance:i}=O(),c=i!=="light",o=[{title:"Postingan",href:"/post"},{title:r==null?void 0:r.title,href:route("post.show",r==null?void 0:r.id)},{title:"Edit",href:route("post.edit",r==null?void 0:r.id)}],{data:s,setData:n,put:l,processing:d}=V({title:(r==null?void 0:r.title)??"",content:(r==null?void 0:r.content)??"",tags:(r==null?void 0:r.tags)??["post"],published:(r==null?void 0:r.published)??!1}),m=()=>{l(route("post.update",r.id),{onSuccess:()=>{R.success("Post updated successfully",{action:{label:"Lihat",onClick:()=>{Y.visit(route("post.show",r.id))}}})},onError:t=>{const p=Object.entries(t).map(([,h])=>h).join(", ");R.error(p)}})};return e.jsx(G,{breadcrumbs:o,children:e.jsx(J,{title:"Edit Post",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, voluptatum.",actions:e.jsx(e.Fragment,{children:e.jsxs(C,{onClick:m,children:[d?e.jsx(he,{className:"animate-spin"}):e.jsx(se,{}),"Simpan post"]})}),children:e.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[e.jsxs(y,{className:"flex-1",children:[e.jsxs(S,{children:[e.jsx(N,{children:r.title}),e.jsx(P,{children:route("article",r.slug)})]}),e.jsx(Z,{}),e.jsx(E,{children:e.jsxs("div",{className:"flex flex-1 flex-col space-y-4",children:[e.jsx(w,{label:"Post title",required:!0,children:e.jsx(_,{placeholder:"Judul article",value:s.title,onChange:t=>n("title",t.target.value)})}),e.jsxs(ne,{defaultValue:"write",children:[e.jsxs(oe,{children:[e.jsx(B,{value:"write",children:"Write"}),e.jsx(B,{value:"preview",children:"Preview"})]}),e.jsx(L,{value:"write",children:e.jsx(we,{className:"min-h-96 flex-1",placeholder:"Tulis content disini pakai format markdown",value:s.content,onChange:t=>n("content",t.target.value)})}),e.jsx(L,{value:"preview",className:"py-8",children:e.jsx("article",{className:j("prose prose-lg min-h-96",c?"prose-invert":""),children:e.jsx(de,{remarkPlugins:[ue],children:s.content})})})]}),e.jsx(w,{label:"Tag article",required:!0,actions:e.jsx("span",{className:"text-xs opacity-50",children:"Pisahkan pakai komma"}),children:e.jsx(_,{placeholder:"Tags",value:s.tags.join(", "),onChange:t=>n("tags",t.target.value.split(", "))})}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:Array.isArray(s.tags)&&s.tags.map(t=>e.jsx(Q,{children:t},t))})]})})]}),e.jsxs("div",{className:"space-y-6 md:w-96",children:[e.jsx(ce,{medias:a}),e.jsxs(y,{children:[e.jsxs(S,{children:[e.jsx(N,{children:"Visibility"}),e.jsx(P,{children:"Post bakal bisa dibaca oleh orang lain atau ngga?"})]}),e.jsx(E,{children:e.jsx("div",{className:"flex flex-1 flex-col space-y-4",children:e.jsx(w,{children:e.jsx(C,{variant:"outline",className:"justify-start",asChild:!0,children:e.jsxs(K,{children:[e.jsx(ke,{checked:s.published,onCheckedChange:t=>n("published",t)}),e.jsx("span",{className:"ml-2",children:s.published?"Dipublish":"Tidak dipublish"})]})})})})})]}),e.jsx(le,{post:r}),e.jsxs(y,{children:[e.jsxs(S,{children:[e.jsx(N,{children:"Share link"}),e.jsx(P,{children:e.jsx(W,{href:route("article",r.slug),children:route("article",r.slug)})})]}),e.jsx($,{children:e.jsxs(C,{children:[e.jsx(pe,{}),"Copy link"]})})]})]})]})})})};export{ar as default};
